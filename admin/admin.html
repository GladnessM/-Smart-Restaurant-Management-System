<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Smart Restaurant — Admin Dashboard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="header">
    <div class="brand">Smart Restaurant — Admin</div>
    <div class="nav">
      <a href="menu.html"><button>Menu</button></a>
      <a href="qr.html"><button>QR</button></a>
      <a href="checkout.html"><button>Checkout</button></a>
    </div>
  </div>

  <div class="container">

    <h2 class="section-title center">Live Orders</h2>
    <table id="ordersTable">
      <thead>
        <tr>
          <th>Order #</th>
          <th>Table</th>
          <th>Items</th>
          <th>Total</th>
          <th>Kitchen</th>
          <th>Bar</th>
          <th>Waiter</th>
          <th>Cashier</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <h2 class="section-title center">Table Management</h2>
    <div id="tablesContainer"></div>

    <h2 class="section-title center">Staff Management</h2>
    <div id="staffContainer"></div>

  </div>

  <script>
    // Mock Data
    const tables = [
      {id:1,seats:4,occupied:false},
      {id:2,seats:2,occupied:false},
      {id:3,seats:6,occupied:false},
      {id:4,seats:4,occupied:false},
    ];

    const staff = [
      {id:1,name:"Alice",role:"Waiter"},
      {id:2,name:"Bob",role:"Chef"},
      {id:3,name:"Charlie",role:"Bar"},
      {id:4,name:"Dana",role:"Cashier"},
    ];

    const orders = [];

    // Render Tables
    const tablesContainer = document.getElementById('tablesContainer');
    function renderTables(){
      tablesContainer.innerHTML = '';
      tables.forEach(t=>{
        const div = document.createElement('div');
        div.className = 'table-card';
        div.innerHTML = `<strong>Table ${t.id}</strong> • Seats: ${t.seats} • ${t.occupied?'Occupied':'Free'} 
        <button onclick="assignRandomOrder(${t.id})">Assign Random Customer</button>`;
        tablesContainer.appendChild(div);
      });
    }

    function assignRandomOrder(tableId){
      const table = tables.find(t=>t.id===tableId);
      if(!table) return;
      const randomSeats = Math.floor(Math.random()*(table.seats))+1;
      table.occupied = true;
      // Create mock order
      const order = {
        id:Date.now(),
        orderNumber: Math.floor(Math.random()*9000),
        table: tableId,
        items:[{name:"Sample Dish", qty:randomSeats, price:randomSeats*250}],
        total: randomSeats*250,
        statuses: {kitchen:'pending', bar:'pending', waiter:'pending', cashier:'pending'}
      };
      orders.push(order);
      renderOrders();
      renderTables();
    }

    // Render Orders Table
    const ordersTableBody = document.querySelector('#ordersTable tbody');
    function renderOrders(){
      ordersTableBody.innerHTML='';
      orders.forEach(o=>{
        const row = document.createElement('tr');
        row.innerHTML=`
          <td>${o.orderNumber}</td>
          <td>${o.table}</td>
          <td>${o.items.map(i=>i.name+" x"+i.qty).join(", ")}</td>
          <td>${o.total}</td>
          <td>${o.statuses.kitchen}</td>
          <td>${o.statuses.bar}</td>
          <td>${o.statuses.waiter}</td>
          <td>${o.statuses.cashier}</td>
        `;
        ordersTableBody.appendChild(row);
      });
    }

    // Render Staff
    const staffContainer = document.getElementById('staffContainer');
    function renderStaff(){
      staffContainer.innerHTML='';
      staff.forEach(s=>{
        const div = document.createElement('div');
        div.className='staff-card';
        div.innerHTML = `<strong>${s.name}</strong> • Role: ${s.role}`;
        staffContainer.appendChild(div);
      });
    }

    renderTables();
    renderStaff();
    renderOrders();
  </script>

  <style>
    .table-card, .staff-card {
      padding:12px;
      border-radius:10px;
      margin:6px 0;
      box-shadow:0 6px 18px rgba(0,0,0,0.05);
      display:flex; justify-content:space-between; align-items:center;
    }
    #ordersTable {
      width:100%;
      border-collapse:collapse;
      margin-bottom:20px;
    }
    #ordersTable th, #ordersTable td {
      border:1px solid #ddd;
      padding:8px;
      text-align:center;
    }
    #ordersTable th {
      background:#f4f4f4;
    }
    button {
      padding:6px 10px;
      border:none;
      border-radius:6px;
      background:var(--brand-1);
      color:white;
      cursor:pointer;
    }
  </style>
</body>
</html>
