<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Checkout</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #FF6F61; /* warm coral red */
      --secondary: #D4AF37; /* soft gold */
      --light-bg: #FFF5F0;
      --card-bg: #ffffff;
    }
    * { box-sizing:border-box; margin:0; padding:0; }
    body { font-family:'Roboto', sans-serif; background:var(--light-bg); color:#333; }

    /* Header */
    .header { display:flex; justify-content:space-between; align-items:center; padding:20px 40px; background:#fff; box-shadow:0 3px 10px rgba(0,0,0,0.1); position:sticky; top:0; z-index:1000;}
    .brand { font-family:'Playfair Display', serif; font-size:1.8rem; color:var(--secondary);}
    .nav button { margin-left:15px; padding:8px 14px; border:none; background:var(--primary); color:#fff; border-radius:6px; cursor:pointer; font-weight:500; transition:0.3s;}
    .nav button:hover { background:var(--secondary); }

    /* Container */
    .container { max-width:600px; margin:40px auto; padding:20px; background:var(--card-bg); border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,0.08);}
    .receipt h2 { font-family:'Playfair Display', serif; margin-bottom:20px; color:var(--secondary);}
    #items div { font-size:1rem; margin-bottom:6px; }
    hr { border:none; border-top:1px solid #eee; margin:15px 0; }
    .small.center { text-align:center; color:#777; font-size:0.9rem; margin:20px 0; }

    /* Payment buttons */
    .btn { flex:1; border:none; padding:12px; border-radius:8px; cursor:pointer; font-weight:600; transition:0.3s; color:#fff;}
    .btn-cash { background:var(--primary); }
    .btn-cash:hover { background:var(--secondary); }
    .btn-mpesa { background:#116466; }
    .btn-mpesa:hover { background:#1f8a8c; }

    .payment-group { display:flex; gap:10px; margin-top:14px; }
    .total-row { display:flex; justify-content:space-between; font-weight:bold; font-size:1.1rem; margin-top:10px; }
  </style>
</head>
<body>

  <div class="header">
    <div class="brand">Smart Restaurant</div>
    <div class="nav">
      <a href="menu.html"><button>Back to Menu</button></a>
    </div>
  </div>

  <div class="container">
    <div class="receipt">
      <h2>Checkout</h2>
      <div id="items"></div>
      <hr/>
      <div class="total-row">
        <span>Total</span>
        <span id="total">Ksh 0</span>
      </div>
      <div class="payment-group">
        <button id="payCash" class="btn btn-cash">Pay Cash</button>
        <button id="payMpesa" class="btn btn-mpesa">Simulate M-Pesa</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    const list = getCart();
    const itemsEl = document.getElementById('items'), totalEl = document.getElementById('total');
    let total=0;
    if(list.length===0) itemsEl.innerHTML='<div class="small center">Your cart is empty</div>';
    list.forEach(i=>{
      const div = document.createElement('div'); div.style.display='flex'; div.style.justifyContent='space-between'; div.style.padding='8px 0';
      div.innerHTML = `<div>${i.qty} x ${i.name}</div><div>${currency(i.price*i.qty)}</div>`;
      itemsEl.appendChild(div);
      total += i.qty * i.price;
    });
    totalEl.textContent = currency(total);

    document.getElementById('payCash').onclick = ()=> {
      if(list.length===0) return alert('Cart empty');
      alert('Payment received (cash). Thank you!');
      clearCart(); window.location.href='menu.html';
    };

    document.getElementById('payMpesa').onclick = ()=> {
      if(list.length===0) return alert('Cart empty');
      alert('Simulated M-Pesa confirmed. Thank you!');
      clearCart(); window.location.href='menu.html';
    };
  </script>

</body>
</html>
